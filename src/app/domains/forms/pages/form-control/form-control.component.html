<main>
  <div class="container mx-auto px-6 py-4">
    <h1>Form Control</h1>
  </div>

  <section class="container mx-auto px-6 py-4">
    <h2>Form Filed</h2>
    <form (submit)="submit()">
      <div class="relative">
        <label>
          Nombre:
          <input
            type="text"
            placeholder="Nombre"
            [formControl]="nameField"
            required="on"
            [class.invalid]="nameField.touched && !nameField.valid"
          />

          <button type="submit">Enviar</button>
        </label>
        @if (nameField.hasError('required') && nameField.touched) {
        <p class="text-red-400">El campo es requerido</p>
        } @if (nameField.touched && nameField.hasError('minlength')) {
        <p class="text-red-400">Debe ingresar al menos 3 caracteres</p>
        }
      </div>

      <div class="relative">
        <label
          >Categoría
          <select [formControl]="categoryField">
            <option value="" disabled selected>--Seleccione--</option>
            <option value="1">Opción 1</option>
            <option value="2">Opción 2</option>
            <option value="3">Opción 3</option>
            <option value="4">Opción 4</option>
          </select>

          <span>{{ categoryField.value }}</span>
        </label>

        <div>
          <p>¿Está vivo?</p>
          <label>
            Si
            <input
              type="radio"
              [formControl]="isAliveField"
              name="isAlive"
              value="si"
            />
          </label>

          <label>
            No
            <input
              type="radio"
              [formControl]="isAliveField"
              name="isAlive"
              value="no"
            />
          </label>
        </div>

        <label>
          <input type="checkbox" [formControl]="agreeField" />
          Acepto los términos y condiciones
        </label>
      </div>
    </form>
  </section>

  <section>
    <h2>Form Group</h2>

    <form
      (submit)="submitNewsLetter()"
      class="flex flex-col space-y-4"
      [formGroup]="newsLetterForm"
    >
      <label>
        Nombre
        <input
          type="text"
          placeholder="Tu nombre"
          formControlName="name"
          [class.invalid]="nameNewsLetter?.touched && !nameNewsLetter?.valid"
        />
      </label>

      <div>
        <label>
          Correo
          <input
            type="email"
            placeholder="mail@example.com"
            formControlName="email"
            [class.invalid]="
              emailNewsLetter?.touched && this.emailNewsLetter?.invalid
            "
          />
        </label>
        @if (emailNewsLetter?.touched && emailNewsLetter?.hasError('email')) {
        <p class="text-red-400">Debe ingresar un correo electrónico valido.</p>
        }
      </div>

      <label>
        <input type="checkbox" formControlName="agree" />
        Acepto los términos y condiciones
      </label>
      @if (agreeNewsLetter?.touched && !agreeNewsLetter?.valid) {
      <p class="text-red-400">Debe Aceptar los términos y condiciones</p>
      }

      <button type="submit">Suscribirme</button>
    </form>
  </section>
  <app-form-builder />
  <app-validations />
</main>
